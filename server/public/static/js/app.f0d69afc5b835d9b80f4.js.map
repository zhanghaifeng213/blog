{"version":3,"sources":["webpack:///./src/router/import-production.js","webpack:///./src/store/module/user.js","webpack:///./src/store/index.js","webpack:///./src/App.vue?d7b6","webpack:///./src/App.vue","webpack:///src/App.vue","webpack:///./src/main.js","webpack:///./src/views lazy ^\\.\\/.*\\.vue$","webpack:///./src/router/index.js","webpack:///./src/libs/httpRequest.js","webpack:///./src/api/user.js","webpack:///./src/libs/utils.js"],"names":["module","exports","file","__webpack_require__","module_user","state","username","getUsername","avatorImgPath","uid","getUid","role","mutations","setAvatar","avatorPath","process","slice","setRole","setUsername","setUser","setUid","getters","usernameLen","length","actions","handleLogin","_ref","_ref2","commit","password","trim","promise_default","a","resolve","reject","login","then","res","data","status","catch","err","handleLogOut","_ref3","logout","clearLoginInfo","handleUserInfo","_ref4","info","avatar","Vue","use","Vuex","__webpack_exports__","Store","modules","user","app","selectortype_template_index_0_src_App","render","_h","this","$createElement","_c","_self","attrs","id","staticRenderFns","src_App","normalizeComponent","name","Element","config","productionTip","el","router","store","components","App","template","map","./404.vue","./article-detail.vue","./common/login-and-out.vue","./home.vue","./layout/head-nav.vue","./layout/main.vue","./persional-detail/article.vue","./persional-detail/comment.vue","./persional-detail/user.vue","./persional-detail/userface.vue","./persional.vue","./publish-article.vue","webpackAsyncContext","req","ids","Promise","all","e","Error","keys","Object","__WEBPACK_IMPORTED_MODULE_0_vue__","__WEBPACK_IMPORTED_MODULE_1_vue_router__","__WEBPACK_IMPORTED_MODULE_2__store__","__WEBPACK_IMPORTED_MODULE_3_js_cookie__","__WEBPACK_IMPORTED_MODULE_3_js_cookie___default","n","__WEBPACK_IMPORTED_MODULE_4__libs_utils_js__","Router","_import","require","globalRoutes","path","component","meta","title","mainRoutes","redirect","children","beforeEnter","to","from","next","Cookies","get","test","roleId","console","log","dispatch","mode","scrollBehavior","y","isAddDynamicMenuRoutes","routes","concat","http","axios","create","timeout","withCredentials","headers","Content-Type","interceptors","request","getToken","error","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default","response","code","push","adornUrl","actionName","d","reg","upload","__WEBPACK_IMPORTED_MODULE_0__libs_httpRequest__","url","method","remove","token","set"],"mappings":"0CAAAA,EAAOC,QAAU,SAAAC,GAAA,OAAQ,kBAAMC,EAAA,OAAAA,CAAA,KAAoBD,EAAO,sHCE3CE,GACbC,OACEC,SAAUC,cACVC,cAAe,GACfC,IAAKC,cACLC,KAAM,IAERC,WACEC,UADS,SACCR,EAAOS,GACXA,IACFT,EAAMG,cAAgBO,yBAAuBD,EAAWE,MAAM,KAGlEC,QANS,SAMDZ,EAAOM,GACbN,EAAMM,KAAOA,GAEfO,YATS,SASGb,EAAOC,GACjBD,EAAMC,SAAWA,EACjBa,YAAQb,IAEVc,OAbS,SAaFf,EAAOI,GACZJ,EAAMI,IAAMA,IAGhBY,SACEC,YAAa,SAAAjB,GAAA,OAASA,EAAMC,SAASiB,SAEvCC,SACEC,YADO,SAAAC,EAAAC,GACyC,IAAlCC,EAAkCF,EAAlCE,OAAYtB,EAAsBqB,EAAtBrB,SAAUuB,EAAYF,EAAZE,SAElC,OADAvB,EAAWA,EAASwB,OACb,IAAIC,EAAAC,EAAQ,SAACC,EAASC,GAC3BC,aACE7B,WACAuB,aAECO,KAAK,SAAAC,GACoB,YAApBA,EAAIC,KAAKC,QACXX,EAAO,cAAetB,GACtB2B,EAAQI,EAAIC,KAAKA,OAEjBJ,EAAOG,EAAIC,KAAKA,QAGnBE,MAAM,SAAAC,GACLP,EAAOO,QAKfC,aAtBO,SAAAC,GAsByBA,EAAjBtC,MAAiB,IAAVuB,EAAUe,EAAVf,OACpB,OAAO,IAAIG,EAAAC,EAAQ,SAACC,EAASC,GAC3BU,cACGR,KAAK,WACJS,cACAjB,EAAO,cAAe,IACtBA,EAAO,SAAU,IACjBA,EAAO,UAAW,IAClBA,EAAO,YAAa,IACpBK,GAAQ,KAETO,MAAM,SAAAC,GACLP,EAAOO,QASfK,eA3CO,SAAAC,EA2CoBT,GAAM,IAAhBV,EAAgBmB,EAAhBnB,OACXtB,EAAWC,cACf,OAAO,IAAIwB,EAAAC,EAAQ,SAACC,EAASC,GAC3Bc,YAAK1C,GACF8B,KAAK,SAAAC,GACJ,IAAMC,EAAOD,EAAIC,KAAKA,KACtBV,EAAO,YAAaU,EAAKW,QACzBrB,EAAO,UAAWU,EAAK3B,MACvBiB,EAAO,SAAUU,EAAK7B,KACtBwB,EAAQK,KAETE,MAAM,SAAAC,GACLP,EAAOO,+BC9EnBS,UAAIC,IAAIC,KAEOC,EAAA,MAAID,IAAKE,OACtBjD,SAGAO,aAGAY,WAGA+B,SACEC,OACAC,+GCjBWC,GADEC,OAFjB,WAA0B,IAAaC,EAAbC,KAAaC,eAA0BC,EAAvCF,KAAuCG,MAAAD,IAAAH,EAAwB,OAAAG,EAAA,OAAiBE,OAAOC,GAAA,SAAYH,EAAA,oBAE5GI,oBCqBFC,EAvBUjE,EAAQ,OAcjCkE,ECNAC,KAAA,ODQEZ,GATF,EAEA,KAEA,KAEA,MAUgC,yEEZhCR,UAAIC,IAAIoB,KAERrB,UAAIsB,OAAOC,eAAgB,EAG3B,IAAIvB,WACFwB,GAAI,OACJC,WACAC,UACAC,YAAcC,OACdC,SAAU,iCCrBZ,IAAAC,GACAC,aACA,OACA,IAEAC,wBACA,OACA,EACA,GAEAC,8BACA,OACA,GAEAC,cACA,OACA,EACA,GAEAC,yBACA,OACA,EACA,GAEAC,qBACA,OACA,EACA,GAEAC,kCACA,OACA,GAEAC,kCACA,OACA,GAEAC,+BACA,OACA,GAEAC,mCACA,OACA,GAEAC,mBACA,OACA,IAEAC,yBACA,OACA,EACA,IAGA,SAAAC,EAAAC,GACA,IAAAC,EAAAf,EAAAc,GACA,OAAAC,EAEAC,QAAAC,IAAAF,EAAA/E,MAAA,GAAAgE,IAAA7E,EAAA+F,IAAA9D,KAAA,WACA,OAAAjC,EAAA4F,EAAA,MAFAC,QAAA9D,OAAA,IAAAiE,MAAA,uBAAAL,EAAA,OAKAD,EAAAO,KAAA,WACA,OAAAC,OAAAD,KAAApB,IAEAa,EAAA3B,GAAA,OACAlE,EAAAC,QAAA4F,qCCnEA,IAAAS,EAAAnG,EAAA,QAAAoG,EAAApG,EAAA,QAAAqG,EAAArG,EAAA,QAAAsG,EAAAtG,EAAA,QAAAuG,EAAAvG,EAAAwG,EAAAF,GAAAG,EAAAzG,EAAA,QAYA+C,UAAIC,IAAI0D,KAGR,IAAMC,EAAUC,EAAQ,QAGlBC,IAEFC,KAAM,OACNC,UAAWJ,EAAQ,OACnBxC,KAAM,MACN6C,MAAQC,MAAO,YAKbC,GACJJ,KAAM,IACNC,UAAWJ,EAAQ,eACnBxC,KAAM,OACNgD,UAAYhD,KAAM,QAClB6C,MAAQC,MAAO,WACfG,WAEIN,KAAM,QACNC,UAAWJ,EAAQ,QACnBxC,KAAM,OACN6C,MAAQC,MAAO,QAGfH,KAAM,kBACNC,UAAWJ,EAAQ,kBACnBxC,KAAM,mBAGN2C,KAAM,mBACNC,UAAWJ,EAAQ,mBACnBxC,KAAM,oBAGN2C,KAAM,aACNC,UAAWJ,EAAQ,aACnBxC,KAAM,YACN6C,MAAQC,MAAO,aACfE,UAAYhD,KAAM,QAClBiD,WAEIN,KAAM,QACNC,UAAWJ,EAAQ,yBACnBxC,KAAM,SAGN2C,KAAM,WACNC,UAAWJ,EAAQ,4BACnBxC,KAAM,YAGN2C,KAAM,WACNC,UAAWJ,EAAQ,4BACnBxC,KAAM,YAGN2C,KAAM,YACNC,UAAWJ,EAAQ,6BACnBxC,KAAM,eAKdkD,YArDiB,SAqDLC,EAAIC,EAAMC,GACpB,IAAIrH,EAAWsH,IAAQC,IAAI,YACtBvH,GAAa,KAAKwH,KAAKxH,GAItBsE,IAAMvE,MAAMmD,KAAKuE,QACnBC,QAAQC,IAAI,cACZN,MAEAK,QAAQC,IAAI,kBACZrD,IACGsD,SAAS,kBACT9F,KAAK,WAEJuF,MAEDnF,MAAM,WACLK,cACA8E,QAhBN9E,cACA8E,OAsBAhD,EAAS,IAAIkC,KACjBsB,KAAM,OACNC,eAAgB,kBAASC,EAAG,IAC5BC,wBAAwB,EACxBC,OAAQvB,EACLwB,OAAOnB,KAGG1C,2HC1GT8D,EAAOC,IAAMC,QACjBC,QAAS,IACTC,iBAAiB,EACjBC,SACEC,eAAgB,mCAElBA,eAAgB,oCAMlBN,EAAKO,aAAaC,QAAQ9F,IACxB,SAAAqB,GAEE,OADAA,EAAOsE,QAAP,MAA0BI,YAAS,SAC5B1E,GAET,SAAA2E,GACE,OAAOC,EAAApH,EAAQE,OAAOiH,KAO1BV,EAAKO,aAAaK,SAASlG,IACzB,SAAAkG,GAME,OALIA,EAAS/G,MAA+B,MAAvB+G,EAAS/G,KAAKgH,OAEjCzG,cACA8B,IAAO4E,MAAOjF,KAAM,UAEf+E,GAET,SAAAF,GACE,OAAOC,EAAApH,EAAQE,OAAOiH,KAQ1BV,EAAKe,SAAW,SAAAC,GAEd,MA/CW1I,yBAmDuD0I,GAgCrDhB,wGC1FftI,EAAAuJ,EAAArG,EAAA,sBAAAsG,IAAAxJ,EAAAuJ,EAAArG,EAAA,sBAAAlB,IAAAhC,EAAAuJ,EAAArG,EAAA,sBAAAL,IAAA7C,EAAAuJ,EAAArG,EAAA,sBAAAT,IAAAzC,EAAAuJ,EAAArG,EAAA,sBAAAuG,IAAA,IAAAC,EAAA1J,EAAA,QAEawJ,EAAM,SAACrH,GAClB,OAAOmG,aACLqB,IAAKrB,IAAKe,SAAS,YACnBO,OAAQ,OACRzH,KAAMA,KAIGH,EAAQ,SAACG,GACpB,OAAOmG,aACLqB,IAAKrB,IAAKe,SAAS,cACnBO,OAAQ,OACRzH,KAAMA,KAIGU,EAAO,SAACV,GACnB,OAAOmG,aACLqB,IAAKrB,IAAKe,SAAS,aACnBO,OAAQ,MACRzH,KAAMA,KAIGM,EAAS,WACpB,OAAO6F,aACLqB,IAAKrB,IAAKe,SAAS,eACnBO,OAAQ,SAICH,EAAS,SAACtH,GACrB,OAAOmG,aACLqB,IAAKrB,IAAKe,SAAS,UACnBO,OAAQ,OACRzH,KAAMA,wCCrCVe,EAAA,EAOO,WAELuE,IAAQoC,OAAO,YACfpC,IAAQoC,OAAO,QAVjB7J,EAAAuJ,EAAArG,EAAA,sBAAA6F,IAAA/I,EAAAuJ,EAAArG,EAAA,sBAAAlC,IAAAhB,EAAAuJ,EAAArG,EAAA,sBAAA9C,IAAAJ,EAAAuJ,EAAArG,EAAA,sBAAA3C,IAAAP,EAAA,QAAAA,EAAA,QAAAA,EAAA,YAAAsG,EAAAtG,EAAA,QAAAuG,EAAAvG,EAAAwG,EAAAF,GAcO,IAMMyC,EAAW,WACtB,IAAMe,EAAQrC,IAAQC,IAPC,SAQvB,OAAIoC,IACQ,GAGD9I,EAAU,SAACb,GACtBsH,IAAQsC,IAAI,WAAY5J,IAGbC,EAAc,WACzB,IAAMD,EAAWsH,IAAQC,IAAI,YAE7B,OADAG,QAAQC,IAAI3H,GACRA,IACQ,GAGDI,EAAS,WACpB,IAAMD,EAAMmH,IAAQC,IAAI,OAExB,OADAG,QAAQC,IAAIxH,GACRA,IACQ","file":"static/js/app.f0d69afc5b835d9b80f4.js","sourcesContent":["module.exports = file => () => import('@/views/' + file + '.vue')\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/import-production.js","import { login, logout, info } from '@/api/user'\r\nimport { getUsername, setUser, clearLoginInfo, getUid } from '@/libs/utils'\r\nexport default {\r\n  state: {\r\n    username: getUsername(),\r\n    avatorImgPath: '',\r\n    uid: getUid(),\r\n    role: ''\r\n  },\r\n  mutations: {\r\n    setAvatar(state, avatorPath) {\r\n      if (avatorPath) {\r\n        state.avatorImgPath = process.env.API_ROOT + avatorPath.slice(1)\r\n      }\r\n    },\r\n    setRole(state, role) {\r\n      state.role = role\r\n    },\r\n    setUsername(state, username) {\r\n      state.username = username\r\n      setUser(username)\r\n    },\r\n    setUid(state, uid) {\r\n      state.uid = uid\r\n    }\r\n  },\r\n  getters: {\r\n    usernameLen: state => state.username.length\r\n  },\r\n  actions: {\r\n    handleLogin({ commit }, { username, password }) {\r\n      username = username.trim()\r\n      return new Promise((resolve, reject) => {\r\n        login({\r\n          username,\r\n          password\r\n        })\r\n          .then(res => {\r\n            if (res.data.status === 'success') {\r\n              commit('setUsername', username)\r\n              resolve(res.data.data)\r\n            } else {\r\n              reject(res.data.data)\r\n            }\r\n          })\r\n          .catch(err => {\r\n            reject(err)\r\n          })\r\n      })\r\n    },\r\n    // 退出登录\r\n    handleLogOut({ state, commit }) {\r\n      return new Promise((resolve, reject) => {\r\n        logout()\r\n          .then(() => {\r\n            clearLoginInfo()\r\n            commit('setUsername', '')\r\n            commit('setUid', '')\r\n            commit('setRole', '')\r\n            commit('setAvatar', '')\r\n            resolve(true)\r\n          })\r\n          .catch(err => {\r\n            reject(err)\r\n          })\r\n        // 如果你的退出登录无需请求接口，则可以直接使用下面三行代码而无需使用logout调用接口\r\n        // commit('setToken', '')\r\n        // commit('setAccess', [])\r\n        // resolve()\r\n      })\r\n    },\r\n    // 获取用户相关信息\r\n    handleUserInfo({ commit }, data) {\r\n      let username = getUsername()\r\n      return new Promise((resolve, reject) => {\r\n        info(username)\r\n          .then(res => {\r\n            const data = res.data.data\r\n            commit('setAvatar', data.avatar)\r\n            commit('setRole', data.role)\r\n            commit('setUid', data.uid)\r\n            resolve(data)\r\n          })\r\n          .catch(err => {\r\n            reject(err)\r\n          })\r\n      })\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/module/user.js","import Vue from 'vue'\r\nimport Vuex from 'vuex'\r\n\r\nimport user from './module/user'\r\nimport app from './module/app'\r\n\r\nVue.use(Vuex)\r\n\r\nexport default new Vuex.Store({\r\n  state: {\r\n    //\r\n  },\r\n  mutations: {\r\n    //\r\n  },\r\n  actions: {\r\n    //\r\n  },\r\n  modules: {\r\n    user,\r\n    app\r\n  }\r\n})\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/index.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-20188840\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-20188840\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div id=\"app\">\r\n    <router-view/>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"App\"\r\n};\r\n</script>\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","// The Vue build version to load with the `import` command\r\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\r\nimport Vue from 'vue'\r\nimport App from './App'\r\nimport router from './router'\r\n\r\nimport store from './store'\r\nimport Element from 'element-ui'\r\nimport 'element-ui/lib/theme-chalk/index.css'\r\nimport '@/assets/scss/index.scss'\r\n\r\nVue.use(Element)\r\n\r\nVue.config.productionTip = false\r\n\r\n/* eslint-disable no-new */\r\nnew Vue({\r\n  el: '#app',\r\n  router,\r\n  store,\r\n  components: { App },\r\n  template: '<App/>'\r\n})\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","var map = {\n\t\"./404.vue\": [\n\t\t\"+H76\",\n\t\t10\n\t],\n\t\"./article-detail.vue\": [\n\t\t\"AMa1\",\n\t\t0,\n\t\t9\n\t],\n\t\"./common/login-and-out.vue\": [\n\t\t\"+Y/D\",\n\t\t0\n\t],\n\t\"./home.vue\": [\n\t\t\"26dS\",\n\t\t2,\n\t\t0\n\t],\n\t\"./layout/head-nav.vue\": [\n\t\t\"3Nxj\",\n\t\t0,\n\t\t6\n\t],\n\t\"./layout/main.vue\": [\n\t\t\"5Zhu\",\n\t\t3,\n\t\t0\n\t],\n\t\"./persional-detail/article.vue\": [\n\t\t\"yjxu\",\n\t\t4\n\t],\n\t\"./persional-detail/comment.vue\": [\n\t\t\"pldp\",\n\t\t8\n\t],\n\t\"./persional-detail/user.vue\": [\n\t\t\"h9Gl\",\n\t\t5\n\t],\n\t\"./persional-detail/userface.vue\": [\n\t\t\"IoJA\",\n\t\t7\n\t],\n\t\"./persional.vue\": [\n\t\t\"Ar58\",\n\t\t11\n\t],\n\t\"./publish-article.vue\": [\n\t\t\"nbFB\",\n\t\t1,\n\t\t0\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tvar ids = map[req];\n\tif(!ids)\n\t\treturn Promise.reject(new Error(\"Cannot find module '\" + req + \"'.\"));\n\treturn Promise.all(ids.slice(1).map(__webpack_require__.e)).then(function() {\n\t\treturn __webpack_require__(ids[0]);\n\t});\n};\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = \"Opzk\";\nmodule.exports = webpackAsyncContext;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views lazy ^\\.\\/.*\\.vue$\n// module id = Opzk\n// module chunks = 13","/**\r\n * 全站路由配置\r\n *\r\n * 建议:\r\n * 1. 代码中路由统一使用name属性跳转(不使用path属性)\r\n */\r\nimport Vue from 'vue'\r\nimport Router from 'vue-router'\r\nimport store from '@/store'\r\nimport Cookies from 'js-cookie'\r\nimport { clearLoginInfo } from '@/libs/utils.js'\r\n\r\nVue.use(Router)\r\n\r\n// 开发环境不使用懒加载, 因为懒加载页面太多的话会造成webpack热更新太慢, 所以只有生产环境使用懒加载\r\nconst _import = require('./import-' + process.env.NODE_ENV)\r\n\r\n// 全局路由(无需嵌套上左右整体布局)\r\nconst globalRoutes = [\r\n  {\r\n    path: '/404',\r\n    component: _import('404'),\r\n    name: '404',\r\n    meta: { title: '404未找到' }\r\n  },\r\n]\r\n\r\n// 主入口路由(需嵌套上左右整体布局) layou1\r\nconst mainRoutes = {\r\n  path: '/',\r\n  component: _import('layout/main'),\r\n  name: 'main',\r\n  redirect: { name: 'home' },\r\n  meta: { title: '主入口整体布局' },\r\n  children: [\r\n    {\r\n      path: '/home',\r\n      component: _import('home'),\r\n      name: 'home',\r\n      meta: { title: '首页' }\r\n    },\r\n    {\r\n      path: '/article-detail',\r\n      component: _import('article-detail'),\r\n      name: 'article-detail'\r\n    },\r\n    {\r\n      path: '/publish-article',\r\n      component: _import('publish-article'),\r\n      name: 'publish-article'\r\n    },\r\n    {\r\n      path: '/persional',\r\n      component: _import('persional'),\r\n      name: 'persional',\r\n      meta: { title: 'persional' },\r\n      redirect: { name: 'user' },\r\n      children: [\r\n        {\r\n          path: '/user',\r\n          component: _import('persional-detail/user'),\r\n          name: 'user'\r\n        },\r\n        {\r\n          path: '/article',\r\n          component: _import('persional-detail/article'),\r\n          name: 'article'\r\n        },\r\n        {\r\n          path: '/comment',\r\n          component: _import('persional-detail/comment'),\r\n          name: 'comment'\r\n        },\r\n        {\r\n          path: '/userface',\r\n          component: _import('persional-detail/userface'),\r\n          name: 'userface'\r\n        },\r\n      ]\r\n    }\r\n  ],\r\n  beforeEnter(to, from, next) {\r\n    let username = Cookies.get('username')\r\n    if (!username || !/\\S/.test(username)) {\r\n      clearLoginInfo()\r\n      next()\r\n    } else {\r\n      if (store.state.user.roleId) {\r\n        console.log('hasGetInfo')\r\n        next()\r\n      } else {\r\n        console.log('donthasGetInfo')\r\n        store\r\n          .dispatch('handleUserInfo')\r\n          .then(() => {\r\n            // 拉取用户信息，通过用户权限和跳转的页面的name来判断是否有权限访问;access必须是一个数组，如：['super_admin'] ['super_admin', 'admin']\r\n            next()\r\n          })\r\n          .catch(() => {\r\n            clearLoginInfo()\r\n            next()\r\n          })\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nconst router = new Router({\r\n  mode: 'hash',\r\n  scrollBehavior: () => ({ y: 0 }),\r\n  isAddDynamicMenuRoutes: false, // 是否已经添加动态(菜单)路由\r\n  routes: globalRoutes\r\n    .concat(mainRoutes)\r\n})\r\n\r\nexport default router\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","import Vue from 'vue'\r\nimport axios from 'axios'\r\nimport router from '@/router'\r\n// import qs from 'qs'\r\n// import merge from 'lodash/merge'\r\nimport { clearLoginInfo, getToken } from './utils'\r\n// 生产环境和开发环境的地址切换\r\nconst root = process.env.API_ROOT\r\n\r\nconst http = axios.create({\r\n  timeout: 1000 * 30,\r\n  withCredentials: true,\r\n  headers: {\r\n    'Content-Type': 'application/json; charset=utf-8'\r\n  },\r\n  'Content-Type': 'application/json; charset=utf-8'\r\n})\r\n\r\n/**\r\n * 请求拦截\r\n */\r\nhttp.interceptors.request.use(\r\n  config => {\r\n    config.headers['token'] = getToken('token') // 请求头带上token\r\n    return config\r\n  },\r\n  error => {\r\n    return Promise.reject(error)\r\n  }\r\n)\r\n\r\n/**\r\n * 响应拦截\r\n */\r\nhttp.interceptors.response.use(\r\n  response => {\r\n    if (response.data && response.data.code === 401) {\r\n      // 401, token失效\r\n      clearLoginInfo()\r\n      router.push({ name: 'home' })\r\n    }\r\n    return response\r\n  },\r\n  error => {\r\n    return Promise.reject(error)\r\n  }\r\n)\r\n\r\n/**\r\n * 请求地址处理\r\n * @param {*} actionName action方法名称\r\n */\r\nhttp.adornUrl = actionName => {\r\n  // 非生产环境 && 开启代理, 接口前缀统一使用[/proxyApi/]前缀做代理拦截!\r\n  return (\r\n    // (process.env.NODE_ENV !== 'production' && process.env.OPEN_PROXY\r\n    //   ? '/proxyApi/'\r\n    //   : window.SITE_CONFIG.baseUrl) + actionName\r\n    (process.env.NODE_ENV !== 'production' ? '/proxyApi/' : root) + actionName\r\n  )\r\n}\r\n\r\n/**\r\n * get请求参数处理\r\n * @param {*} params 参数对象\r\n * @param {*} openDefultParams 是否开启默认参数?\r\n */\r\n// http.adornParams = (params = {}, openDefultParams = false) => {\r\n//   var defaults = {\r\n//     t: new Date().getTime()\r\n//   }\r\n//   return openDefultParams ? merge(defaults, params) : params\r\n// }\r\n\r\n/**\r\n * post请求数据处理\r\n * @param {*} data 数据对象\r\n * @param {*} openDefultdata 是否开启默认数据?\r\n * @param {*} contentType 数据格式\r\n *  json: 'application/json; charset=utf-8'\r\n *  form: 'application/x-www-form-urlencoded; charset=utf-8'\r\n */\r\n// http.adornData = (data = {}, openDefultdata = false, contentType = 'json') => {\r\n//   var defaults = {\r\n//     t: new Date().getTime()\r\n//   }\r\n//   data = openDefultdata ? merge(defaults, data) : data\r\n//   // return contentType === 'json' ? JSON.stringify(data) : qs.stringify(data)\r\n// }\r\n\r\nexport default http\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/libs/httpRequest.js","import http from '@/libs/httpRequest'\r\n\r\nexport const reg = (data) => {\r\n  return http({\r\n    url: http.adornUrl('user/reg'),\r\n    method: 'post',\r\n    data: data\r\n  })\r\n}\r\n\r\nexport const login = (data) => {\r\n  return http({\r\n    url: http.adornUrl('user/login'),\r\n    method: 'post',\r\n    data: data\r\n  })\r\n}\r\n\r\nexport const info = (data) => {\r\n  return http({\r\n    url: http.adornUrl('user/info'),\r\n    method: 'get',\r\n    data: data\r\n  })\r\n}\r\n\r\nexport const logout = () => {\r\n  return http({\r\n    url: http.adornUrl('user/logout'),\r\n    method: 'get',\r\n  })\r\n}\r\n\r\nexport const upload = (data) => {\r\n  return http({\r\n    url: http.adornUrl('upload'),\r\n    method: 'post',\r\n    data: data\r\n  })\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/user.js","import Vue from 'vue'\r\nimport router from '@/router'\r\nimport store from '@/store'\r\nimport Cookies from 'js-cookie'\r\n/**\r\n * 清除登录信息\r\n */\r\nexport function clearLoginInfo() {\r\n  // Vue.cookie.delete('token')\r\n  Cookies.remove('username')\r\n  Cookies.remove('uid')\r\n  // store.commit('resetStore')\r\n}\r\n\r\nexport const TOKEN_KEY = 'token'\r\n\r\nexport const setToken = token => {\r\n  Cookies.set(TOKEN_KEY, token, { expires: config.cookieExpires || 1 })\r\n}\r\n\r\nexport const getToken = () => {\r\n  const token = Cookies.get(TOKEN_KEY)\r\n  if (token) return token\r\n  else return false\r\n}\r\n\r\nexport const setUser = (username) => {\r\n  Cookies.set('username', username)\r\n}\r\n\r\nexport const getUsername = () => {\r\n  const username = Cookies.get('username')\r\n  console.log(username)\r\n  if (username) return username\r\n  else return false\r\n}\r\n\r\nexport const getUid = () => {\r\n  const uid = Cookies.get('uid')\r\n  console.log(uid)\r\n  if (uid) return uid\r\n  else return false\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/libs/utils.js"],"sourceRoot":""}