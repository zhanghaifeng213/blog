{"version":3,"sources":["webpack:///./node_modules/core-js/library/modules/es6.object.keys.js","webpack:///./node_modules/babel-runtime/core-js/object/keys.js","webpack:///./node_modules/core-js/library/fn/object/keys.js","webpack:///src/components/Tinymce/components/editorImage.vue","webpack:///./src/components/Tinymce/components/editorImage.vue?099f","webpack:///./src/components/Tinymce/components/editorImage.vue","webpack:///./src/components/Tinymce/plugins.js","webpack:///./src/components/Tinymce/toolbar.js","webpack:///src/components/Tinymce/index.vue","webpack:///./src/components/Tinymce/index.vue?3ea1","webpack:///./src/components/Tinymce/index.vue","webpack:///src/views/publish-article.vue","webpack:///./src/views/publish-article.vue?ee7b","webpack:///./src/views/publish-article.vue","webpack:///./node_modules/core-js/library/modules/_object-sap.js"],"names":["toObject","__webpack_require__","$keys","it","module","exports","default","__esModule","Object","keys","editorImage","name","props","color","type","String","data","dialogVisible","listObj","fileList","methods","checkAllSuccess","_this","this","keys_default","every","item","hasSuccess","handleSubmit","_this2","arr","map","v","console","log","$emit","$message","handleSuccess","response","file","uid","objKeyArr","i","len","length","url","files","handleRemove","beforeUpload","_self","_URL","window","URL","webkitURL","fileName","promise_default","a","resolve","reject","img","Image","src","createObjectURL","onload","width","height","components_editorImage","render","_vm","_h","$createElement","_c","staticClass","style","background","borderColor","attrs","icon","size","on","click","$event","_v","visible","update:visible","action","multiple","file-list","show-file-list","list-type","on-remove","on-success","before-upload","staticRenderFns","plugins","toolbar","Tinymce","components","normalizeComponent","ssrContext","id","value","Array","required","menubar","Number","hasChange","hasInit","tinymceId","Date","fullscreen","watch","val","$nextTick","tinymce","get","setContent","mounted","initTinymce","activated","deactivated","destroyTinymce","_this3","init","selector","body_class","object_resizing","Tinymce_toolbar","Tinymce_plugins","end_container_on_empty_block","powerpaste_word_import","code_dialog_height","code_dialog_width","advlist_bullet_styles","advlist_number_styles","imagetools_cors_hosts","default_link_target","link_title","nonbreaking_force_tab","init_instance_callback","editor","getContent","setup","e","state","destroy","destroyed","components_Tinymce","class","src_components_Tinymce","Tinymce_normalizeComponent","publish_article","options","label","rules","tips","message","trigger","title","form","content","computed","extends_default","vuex_esm","user","submit","formName","$refs","validate","valid","article","then","res","msg","$router","push","catch","err","views_publish_article","separator","ref","inline","model","label-width","prop","placeholder","callback","$$v","$set","expression","_l","key","publish_article_Component","publish_article_normalizeComponent","__webpack_exports__","$export","core","fails","KEY","exec","fn","exp","S","F"],"mappings":"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","file":"static/js/1.5c6f7c1f17e4f1cc3556.js","sourcesContent":["// 19.1.2.14 Object.keys(O)\nvar toObject = require('./_to-object');\nvar $keys = require('./_object-keys');\n\nrequire('./_object-sap')('keys', function () {\n  return function keys(it) {\n    return $keys(toObject(it));\n  };\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es6.object.keys.js\n// module id = Cdx3\n// module chunks = 1 2","module.exports = { \"default\": require(\"core-js/library/fn/object/keys\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/object/keys.js\n// module id = fZjL\n// module chunks = 1 2","require('../../modules/es6.object.keys');\nmodule.exports = require('../../modules/_core').Object.keys;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/object/keys.js\n// module id = jFbC\n// module chunks = 1 2","<template>\r\n  <div class=\"upload-container\">\r\n    <el-button icon='el-icon-upload' size=\"mini\" :style=\"{background:color,borderColor:color}\" @click=\" dialogVisible=true\" type=\"primary\">上传图片\r\n    </el-button>\r\n    <el-dialog :visible.sync=\"dialogVisible\">\r\n      <el-upload class=\"editor-slide-upload\" action=\"https://httpbin.org/post\" :multiple=\"true\" :file-list=\"fileList\" :show-file-list=\"true\"\r\n        list-type=\"picture-card\" :on-remove=\"handleRemove\" :on-success=\"handleSuccess\" :before-upload=\"beforeUpload\">\r\n        <el-button size=\"small\" type=\"primary\">点击上传</el-button>\r\n      </el-upload>\r\n      <el-button @click=\"dialogVisible = false\">取 消</el-button>\r\n      <el-button type=\"primary\" @click=\"handleSubmit\">确 定</el-button>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// import { getToken } from 'api/qiniu'\r\n\r\nexport default {\r\n  name: 'editorSlideUpload',\r\n  props: {\r\n    color: {\r\n      type: String,\r\n      default: '#1890ff'\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      dialogVisible: false,\r\n      listObj: {},\r\n      fileList: []\r\n    }\r\n  },\r\n  methods: {\r\n    checkAllSuccess() {\r\n      return Object.keys(this.listObj).every(item => this.listObj[item].hasSuccess)\r\n    },\r\n    handleSubmit() {\r\n      const arr = Object.keys(this.listObj).map(v => this.listObj[v])\r\n      if (!this.checkAllSuccess()) {\r\n        this.$message('请等待所有图片上传成功 或 出现了网络问题，请刷新页面重新上传！')\r\n        return\r\n      }\r\n      console.log(arr)\r\n      this.$emit('successCBK', arr)\r\n      this.listObj = {}\r\n      this.fileList = []\r\n      this.dialogVisible = false\r\n    },\r\n    handleSuccess(response, file) {\r\n      const uid = file.uid\r\n      const objKeyArr = Object.keys(this.listObj)\r\n      for (let i = 0, len = objKeyArr.length; i < len; i++) {\r\n        if (this.listObj[objKeyArr[i]].uid === uid) {\r\n          this.listObj[objKeyArr[i]].url = response.files.file\r\n          this.listObj[objKeyArr[i]].hasSuccess = true\r\n          return\r\n        }\r\n      }\r\n    },\r\n    handleRemove(file) {\r\n      const uid = file.uid\r\n      const objKeyArr = Object.keys(this.listObj)\r\n      for (let i = 0, len = objKeyArr.length; i < len; i++) {\r\n        if (this.listObj[objKeyArr[i]].uid === uid) {\r\n          delete this.listObj[objKeyArr[i]]\r\n          return\r\n        }\r\n      }\r\n    },\r\n    beforeUpload(file) {\r\n      const _self = this\r\n      const _URL = window.URL || window.webkitURL\r\n      const fileName = file.uid\r\n      this.listObj[fileName] = {}\r\n      return new Promise((resolve, reject) => {\r\n        const img = new Image()\r\n        img.src = _URL.createObjectURL(file)\r\n        img.onload = function() {\r\n          _self.listObj[fileName] = { hasSuccess: false, uid: file.uid, width: this.width, height: this.height }\r\n        }\r\n        resolve(true)\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style rel=\"stylesheet/scss\" lang=\"scss\" scoped>\r\n.editor-slide-upload {\r\n  margin-bottom: 20px;\r\n  /deep/ .el-upload--picture-card {\r\n    width: 100%;\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/Tinymce/components/editorImage.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"upload-container\"},[_c('el-button',{style:({background:_vm.color,borderColor:_vm.color}),attrs:{\"icon\":\"el-icon-upload\",\"size\":\"mini\",\"type\":\"primary\"},on:{\"click\":function($event){_vm.dialogVisible=true}}},[_vm._v(\"上传图片\\n  \")]),_vm._v(\" \"),_c('el-dialog',{attrs:{\"visible\":_vm.dialogVisible},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('el-upload',{staticClass:\"editor-slide-upload\",attrs:{\"action\":\"https://httpbin.org/post\",\"multiple\":true,\"file-list\":_vm.fileList,\"show-file-list\":true,\"list-type\":\"picture-card\",\"on-remove\":_vm.handleRemove,\"on-success\":_vm.handleSuccess,\"before-upload\":_vm.beforeUpload}},[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"}},[_vm._v(\"点击上传\")])],1),_vm._v(\" \"),_c('el-button',{on:{\"click\":function($event){_vm.dialogVisible = false}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleSubmit}},[_vm._v(\"确 定\")])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-60bc45a4\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Tinymce/components/editorImage.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-60bc45a4\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./editorImage.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./editorImage.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./editorImage.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-60bc45a4\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./editorImage.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-60bc45a4\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Tinymce/components/editorImage.vue\n// module id = null\n// module chunks = ","// Any plugins you want to use has to be imported\r\n// Detail plugins list see https://www.tinymce.com/docs/plugins/\r\n// Custom builds see https://www.tinymce.com/download/custom-builds/\r\n\r\nconst plugins = ['advlist anchor autolink autosave code codesample colorpicker colorpicker contextmenu directionality emoticons fullscreen hr image imagetools importcss insertdatetime link lists media nonbreaking noneditable pagebreak paste preview print save searchreplace spellchecker tabfocus table template textcolor textpattern visualblocks visualchars wordcount']\r\n\r\nexport default plugins\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Tinymce/plugins.js","// Here is a list of the toolbar\r\n// Detail list see https://www.tinymce.com/docs/advanced/editor-control-identifiers/#toolbarcontrols\r\n\r\nconst toolbar = ['bold italic underline strikethrough alignleft aligncenter alignright outdent indent  blockquote undo redo removeformat subscript superscript code codesample', 'hr bullist numlist link image charmap preview anchor pagebreak insertdatetime media table emoticons forecolor backcolor fullscreen']\r\n\r\nexport default toolbar\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Tinymce/toolbar.js","<template>\r\n  <div class=\"tinymce-container editor-container\" :class=\"{fullscreen:fullscreen}\">\r\n    <textarea class=\"tinymce-textarea\" :id=\"tinymceId\"></textarea>\r\n    <!-- <div class=\"editor-custom-btn-container\">\r\n      <editorImage color=\"#1890ff\" class=\"editor-upload-btn\" @successCBK=\"imageSuccessCBK\"></editorImage>\r\n    </div> -->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport editorImage from \"./components/editorImage\";\r\nimport plugins from \"./plugins\";\r\nimport toolbar from \"./toolbar\";\r\n\r\nexport default {\r\n  name: \"tinymce\",\r\n  components: { editorImage },\r\n  props: {\r\n    id: {\r\n      type: String\r\n    },\r\n    value: {\r\n      type: String,\r\n      default: \"\"\r\n    },\r\n    toolbar: {\r\n      type: Array,\r\n      required: false,\r\n      default() {\r\n        return [];\r\n      }\r\n    },\r\n    menubar: {\r\n      // default: \"file edit insert view format table\"\r\n      default: \"\"\r\n    },\r\n    height: {\r\n      type: Number,\r\n      required: false,\r\n      default: 360\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      hasChange: false,\r\n      hasInit: false,\r\n      tinymceId: this.id || \"vue-tinymce-\" + +new Date(),\r\n      fullscreen: false\r\n    };\r\n  },\r\n  watch: {\r\n    value(val) {\r\n      if (!this.hasChange && this.hasInit) {\r\n        this.$nextTick(() =>\r\n          window.tinymce.get(this.tinymceId).setContent(val || \"\")\r\n        );\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    this.initTinymce();\r\n  },\r\n  activated() {\r\n    this.initTinymce();\r\n  },\r\n  deactivated() {\r\n    this.destroyTinymce();\r\n  },\r\n  methods: {\r\n    initTinymce() {\r\n      const _this = this;\r\n      window.tinymce.init({\r\n        selector: `#${this.tinymceId}`,\r\n        height: this.height,\r\n        body_class: \"panel-body \",\r\n        object_resizing: false,\r\n        toolbar: this.toolbar.length > 0 ? this.toolbar : toolbar,\r\n        menubar: this.menubar,\r\n        plugins: plugins,\r\n        end_container_on_empty_block: true,\r\n        powerpaste_word_import: \"clean\",\r\n        code_dialog_height: 450,\r\n        code_dialog_width: 1000,\r\n        advlist_bullet_styles: \"square\",\r\n        advlist_number_styles: \"default\",\r\n        imagetools_cors_hosts: [\"www.tinymce.com\", \"codepen.io\"],\r\n        default_link_target: \"_blank\",\r\n        link_title: false,\r\n        nonbreaking_force_tab: true, // inserting nonbreaking space &nbsp; need Nonbreaking Space Plugin\r\n        init_instance_callback: editor => {\r\n          if (_this.value) {\r\n            editor.setContent(_this.value);\r\n          }\r\n          _this.hasInit = true;\r\n          editor.on(\"NodeChange Change KeyUp SetContent\", () => {\r\n            this.hasChange = true;\r\n            this.$emit(\"input\", editor.getContent());\r\n          });\r\n        },\r\n        setup(editor) {\r\n          editor.on(\"FullscreenStateChanged\", e => {\r\n            _this.fullscreen = e.state;\r\n          });\r\n        }\r\n        // 整合七牛上传\r\n        // images_dataimg_filter(img) {\r\n        //   setTimeout(() => {\r\n        //     const $image = $(img);\r\n        //     $image.removeAttr('width');\r\n        //     $image.removeAttr('height');\r\n        //     if ($image[0].height && $image[0].width) {\r\n        //       $image.attr('data-wscntype', 'image');\r\n        //       $image.attr('data-wscnh', $image[0].height);\r\n        //       $image.attr('data-wscnw', $image[0].width);\r\n        //       $image.addClass('wscnph');\r\n        //     }\r\n        //   }, 0);\r\n        //   return img\r\n        // },\r\n        // images_upload_handler(blobInfo, success, failure, progress) {\r\n        //   progress(0);\r\n        //   const token = _this.$store.getters.token;\r\n        //   getToken(token).then(response => {\r\n        //     const url = response.data.qiniu_url;\r\n        //     const formData = new FormData();\r\n        //     formData.append('token', response.data.qiniu_token);\r\n        //     formData.append('key', response.data.qiniu_key);\r\n        //     formData.append('file', blobInfo.blob(), url);\r\n        //     upload(formData).then(() => {\r\n        //       success(url);\r\n        //       progress(100);\r\n        //     })\r\n        //   }).catch(err => {\r\n        //     failure('出现未知问题，刷新页面，或者联系程序员')\r\n        //     console.log(err);\r\n        //   });\r\n        // },\r\n      });\r\n    },\r\n    destroyTinymce() {\r\n      if (window.tinymce.get(this.tinymceId)) {\r\n        window.tinymce.get(this.tinymceId).destroy();\r\n      }\r\n    },\r\n    setContent(value) {\r\n      window.tinymce.get(this.tinymceId).setContent(value);\r\n    },\r\n    getContent() {\r\n      window.tinymce.get(this.tinymceId).getContent();\r\n    }\r\n    // imageSuccessCBK(arr) {\r\n    //   const _this = this;\r\n    //   arr.forEach(v => {\r\n    //     window.tinymce\r\n    //       .get(_this.tinymceId)\r\n    //       .insertContent(`<img class=\"wscnph\" src=\"${v.url}\" >`);\r\n    //   });\r\n    // }\r\n  },\r\n  destroyed() {\r\n    this.destroyTinymce();\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.tinymce-container {\r\n  position: relative;\r\n}\r\n.tinymce-container >>> .mce-fullscreen {\r\n  z-index: 10000;\r\n}\r\n.tinymce-textarea {\r\n  visibility: hidden;\r\n  z-index: -1;\r\n}\r\n.editor-custom-btn-container {\r\n  position: absolute;\r\n  right: 4px;\r\n  top: 4px;\r\n  /*z-index: 2005;*/\r\n}\r\n.fullscreen .editor-custom-btn-container {\r\n  z-index: 10000;\r\n  position: fixed;\r\n}\r\n.editor-upload-btn {\r\n  display: inline-block;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/Tinymce/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"tinymce-container editor-container\",class:{fullscreen:_vm.fullscreen}},[_c('textarea',{staticClass:\"tinymce-textarea\",attrs:{\"id\":_vm.tinymceId}})])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-144aff33\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Tinymce/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-144aff33\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-144aff33\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-144aff33\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Tinymce/index.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"publish-article\">\r\n    <div class=\"wrap\">\r\n      <el-breadcrumb separator=\"/\">\r\n        <el-breadcrumb-item>首页</el-breadcrumb-item>\r\n        <el-breadcrumb-item>文章编辑</el-breadcrumb-item>\r\n      </el-breadcrumb>\r\n      <div class=\"title\">\r\n        <el-form :inline=\"true\" ref=\"ruleForm\" :model=\"form\" :rules=\"rules\" label-width=\"100px\">\r\n          <el-form-item label=\"文章分类\" prop=\"tips\">\r\n            <el-select v-model=\"form.tips\" placeholder=\"请选择\">\r\n              <el-option\r\n                v-for=\"item in options\"\r\n                :key=\"item.value\"\r\n                :label=\"item.label\"\r\n                :value=\"item.value\">\r\n              </el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n          <el-form-item label=\"标题\" prop=\"title\">\r\n            <el-input placeholder=\"请输入内容\" v-model=\"form.title\">\r\n            </el-input>\r\n          </el-form-item>\r\n        </el-form>\r\n      </div>\r\n      <div class=\"content\">\r\n        <Tinymce ref=\"tinymce\" :id=\"'tinymce'\" v-model=\"form.content\"></Tinymce>\r\n      </div>\r\n      <div class=\"btn-wrap\">\r\n        <el-button type=\"primary\" @click=\"submit('ruleForm')\">立即发布</el-button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// tips,\r\n// title,\r\n// content: layedit.getContent(index)\r\nimport { mapState } from \"vuex\";\r\nimport Tinymce from \"@/components/Tinymce\";\r\nimport { addArticle } from \"@/api/article.js\";\r\nexport default {\r\n  name: \"publish-article\",\r\n  data() {\r\n    return {\r\n      options: [\r\n        {\r\n          value: \"nodejs\",\r\n          label: \"nodejs\"\r\n        },\r\n        {\r\n          value: \"vue\",\r\n          label: \"vue\"\r\n        },\r\n        {\r\n          value: \"react\",\r\n          label: \"react\"\r\n        },\r\n        {\r\n          value: \"angular\",\r\n          label: \"angular\"\r\n        }\r\n      ],\r\n      rules: {\r\n        tips: [{ required: true, message: \"请选择文章分类\", trigger: \"blur\" }],\r\n        title: [\r\n          { required: true, message: \"请填写文章标题\", trigger: \"change\" }\r\n        ]\r\n      },\r\n      form: {\r\n        tips: \"\",\r\n        title: \"\",\r\n        content: \"\"\r\n      }\r\n    };\r\n  },\r\n  components: {\r\n    Tinymce\r\n  },\r\n  computed: {\r\n    ...mapState({\r\n      uid: state => state.user.uid\r\n    })\r\n  },\r\n  methods: {\r\n    submit(formName) {\r\n      if (this.uid) {\r\n        this.$refs[formName].validate(valid => {\r\n          if (valid) {\r\n            if (this.form.content != \"\") {\r\n              addArticle(this.form)\r\n                .then(res => {\r\n                  this.$message({\r\n                    message: res.data.msg,\r\n                    type: \"success\"\r\n                  });\r\n                  this.$router.push({ name: \"home\" });\r\n                })\r\n                .catch(err => {\r\n                  console.log(err);\r\n                  this.$message({\r\n                    message: \"系统有bug\",\r\n                    type: \"warning\"\r\n                  });\r\n                });\r\n            } else {\r\n              this.$message({\r\n                message: \"请编辑文章内容\",\r\n                type: \"warning\"\r\n              });\r\n            }\r\n          } else {\r\n            console.log(\"error submit!!\");\r\n            return false;\r\n          }\r\n        });\r\n      } else {\r\n        this.$message({\r\n          message: \"请先登录\",\r\n          type: \"warning\"\r\n        });\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style lang=\"scss\" scoped>\r\n.publish-article {\r\n  padding: 10px 200px;\r\n  box-sizing: border-box;\r\n  background: #f2f2f2;\r\n  min-height: calc(100vh - 61px);\r\n  .wrap {\r\n    width: 100%;\r\n    padding: 20px;\r\n    background: #fff;\r\n    .title {\r\n      padding: 20px 0;\r\n      .el-form {\r\n        .el-form-item {\r\n          .el-input {\r\n            width: 200px;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    .btn-wrap {\r\n      padding-top: 10px;\r\n    }\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/publish-article.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"publish-article\"},[_c('div',{staticClass:\"wrap\"},[_c('el-breadcrumb',{attrs:{\"separator\":\"/\"}},[_c('el-breadcrumb-item',[_vm._v(\"首页\")]),_vm._v(\" \"),_c('el-breadcrumb-item',[_vm._v(\"文章编辑\")])],1),_vm._v(\" \"),_c('div',{staticClass:\"title\"},[_c('el-form',{ref:\"ruleForm\",attrs:{\"inline\":true,\"model\":_vm.form,\"rules\":_vm.rules,\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":\"文章分类\",\"prop\":\"tips\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.form.tips),callback:function ($$v) {_vm.$set(_vm.form, \"tips\", $$v)},expression:\"form.tips\"}},_vm._l((_vm.options),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"标题\",\"prop\":\"title\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入内容\"},model:{value:(_vm.form.title),callback:function ($$v) {_vm.$set(_vm.form, \"title\", $$v)},expression:\"form.title\"}})],1)],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"content\"},[_c('Tinymce',{ref:\"tinymce\",attrs:{\"id\":'tinymce'},model:{value:(_vm.form.content),callback:function ($$v) {_vm.$set(_vm.form, \"content\", $$v)},expression:\"form.content\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"btn-wrap\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.submit('ruleForm')}}},[_vm._v(\"立即发布\")])],1)],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-40ea977d\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/publish-article.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-40ea977d\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./publish-article.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./publish-article.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./publish-article.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-40ea977d\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./publish-article.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-40ea977d\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/publish-article.vue\n// module id = null\n// module chunks = ","// most Object methods by ES6 should accept primitives\nvar $export = require('./_export');\nvar core = require('./_core');\nvar fails = require('./_fails');\nmodule.exports = function (KEY, exec) {\n  var fn = (core.Object || {})[KEY] || Object[KEY];\n  var exp = {};\n  exp[KEY] = exec(fn);\n  $export($export.S + $export.F * fails(function () { fn(1); }), 'Object', exp);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_object-sap.js\n// module id = uqUo\n// module chunks = 1 2"],"sourceRoot":""}