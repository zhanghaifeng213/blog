webpackJsonp([7],{DtNP:function(e,t){},IoJA:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a("Dd8w"),n=a.n(o),l=a("NYxO"),i=a("vMJZ"),s={name:"persional-userface",data:function(){return{actionUrl:"http://localhost:3001/upload",dialogVisible:!1,file:null,avatarUrl:"",avatarName:""}},computed:n()({},Object(l.c)({username:function(e){return e.user.username},avatorImgPath:function(e){return e.user.avatorImgPath}}),{fileList2:function(){return[{name:this.username,url:this.avatorImgPath}]}}),methods:n()({},Object(l.b)(["handleUserInfo"]),{handleRemove:function(e,t){console.log(e,t)},handlePreview:function(e){console.log("handlePreview"),console.log(e)},beforeUpload:function(e){console.log("beforeUpload"),console.log(e)},onChange:function(e){console.log(this.fileList2),console.log("onChange"),console.log(e);var t=new FileReader;t.readAsDataURL(e.raw);var a=this;t.onloadend=function(o){a.avatarUrl=t.result,a.file=e.raw,a.avatarName=e.raw.name,a.dialogVisible=!0}},uploadAvatar:function(){var e=this,t=new FormData;t.append("file",this.file),Object(i.e)(t).then(function(t){1==t.data.status&&e.handleUserInfo().then(function(t){console.log(t),e.dialogVisible=!1})})}})},r={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"persional-userface"},[a("el-upload",{staticClass:"upload-demo",attrs:{"auto-upload":!1,"on-change":e.onChange,action:e.actionUrl,"on-preview":e.handlePreview,"on-remove":e.handleRemove,"file-list":e.fileList2,"list-type":"picture"}},[a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("头像上传")]),e._v(" "),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传jpg/png文件，且不超过500kb")])],1),e._v(" "),a("el-dialog",{attrs:{title:"头像上传",visible:e.dialogVisible,width:"30%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("img",{staticClass:"avatar",attrs:{src:e.avatarUrl}}),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.uploadAvatar}},[e._v("确 定")])],1)])],1)},staticRenderFns:[]};var c=a("VU/8")(s,r,!1,function(e){a("DtNP")},"data-v-4a80c22e",null);t.default=c.exports}});
//# sourceMappingURL=7.03d254d764b5b544121b.js.map