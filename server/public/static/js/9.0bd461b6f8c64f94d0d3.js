webpackJsonp([9],{AMa1:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("viA7"),r={name:"article-detail",data:function(){return{createdTime:"",ruleForm:{desc:"",username:"",articleId:""},rules:{desc:[{required:!0,message:"请输入内容",trigger:"blur"}]},comments:[]}},methods:{submitForm:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return console.log("error submit!!"),!1;if(""!=e.ruleForm.desc){var s=e.ruleForm.desc,r=e.$route.params._id;Object(a.b)({content:s,article:r}).then(function(t){"OK"==t.statusText&&e.getCommentList()})}else e.$message({message:"请编辑文章内容",type:"warning"})})},getCommentList:function(){var t=this;Object(a.d)(this.$route.params._id).then(function(e){"OK"==e.statusText&&(t.comments=e.data.comment,t.comments.map(function(t){t.from.avatar="http://localhost:6000/"+t.from.avatar.slice(1)}))})}},mounted:function(){console.log(this.$route.params),this.getCommentList(),this.createdTime=this.$route.params.created}},i={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"article-detail"},[s("div",{staticClass:"content"},[s("el-row",{attrs:{gutter:20}},[s("el-col",{attrs:{span:18}},[s("div",{staticClass:"grid-content bg-white"},[s("div",{staticClass:"content-content"},[s("h1",{staticClass:"h1"},[t._v(t._s(t.$route.params.title))]),t._v(" "),s("div",{staticClass:"other-info text-center"},[s("span",{staticClass:"author"},[t._v(t._s(t.$route.params.author.username))]),t._v(" "),s("span",[t._v("  发表于：")]),t._v(" "),s("span",{staticClass:"createTime"},[t._v(t._s(t.createdTime))]),t._v(" "),s("span",[t._v(" 分类：")]),t._v(" "),s("span",{staticClass:"tips"},[t._v(t._s(t.$route.params.tips))])]),t._v(" "),s("div",{staticClass:"article-detail",staticStyle:{padding:"30px"},domProps:{innerHTML:t._s(t.$route.params.content)}})])]),t._v(" "),s("div",{staticClass:"content-comment"},[s("fieldset",{staticClass:"comment-title"},[s("legend",{staticClass:"ct"},[t._v("评论")])]),t._v(" "),s("div",{staticClass:"text"},[s("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.ruleForm,rules:t.rules}},[s("el-form-item",{attrs:{prop:"desc"}},[s("el-input",{attrs:{type:"textarea",rows:10,placeholder:"请输入......"},model:{value:t.ruleForm.desc,callback:function(e){t.$set(t.ruleForm,"desc",e)},expression:"ruleForm.desc"}})],1),t._v(" "),s("el-form-item",[s("el-button",{attrs:{type:"primary"},on:{click:function(e){t.submitForm("ruleForm")}}},[t._v("立即发表")])],1)],1)],1),t._v(" "),s("ul",{staticClass:"comment-list"},t._l(t.comments,function(e){return s("li",[s("img",{attrs:{src:e.from.avatar}}),t._v(" "),s("div",[s("p",{staticClass:"author"},[t._v(t._s(e.from.username))]),t._v(" "),s("p",{staticClass:"time"},[t._v(t._s(e.created))])]),t._v(" "),s("div",{staticClass:"she-said"},[t._v(t._s(e.content))])])}),0)])]),t._v(" "),s("el-col",{attrs:{span:6}},[s("el-card",{staticClass:"box-card"},[s("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[s("span",[t._v("公告")])]),t._v(" "),t._l(4,function(e){return s("div",{key:e,staticClass:"text item"},[t._v("\n            "+t._s("列表内容 "+e)+"\n          ")])})],2)],1)],1)],1)])},staticRenderFns:[]};var n=s("C7Lr")(r,i,!1,function(t){s("OO1N")},"data-v-17df89e2",null);e.default=n.exports},OO1N:function(t,e){}});
//# sourceMappingURL=9.0bd461b6f8c64f94d0d3.js.map